{"ast":null,"code":"import React,{useState}from'react';import'./Signup.css';import{useNavigate}from'react-router-dom';import bcrypt from'bcryptjs';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const navigate=useNavigate();const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState(null);const handleSubmit=e=>{e.preventDefault();if(username&&password){const storedUsers=JSON.parse(localStorage.getItem('users'))||[];const existingUser=storedUsers.find(user=>user.username===username);if(existingUser){setError('Username already exists');}else{bcrypt.hash(password,10,(err,hashedPassword)=>{if(err){setError('Error hashing password');}else{storedUsers.push({username,password:hashedPassword});localStorage.setItem('users',JSON.stringify(storedUsers));alert('Registration Successful');setError('');navigate('/login');}});}}else{setError('Please enter both username and password');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"register-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Signup\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{className:\"username\",children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:e=>setUsername(e.target.value)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{className:\"password\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"br\",{}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"signup-btnn\",children:/*#__PURE__*/_jsx(\"button\",{className:\"signup-btn\",type:\"submit\",children:\"Signup\"})})]})]});};export default Register;","map":{"version":3,"names":["React","useState","useNavigate","bcrypt","jsx","_jsx","jsxs","_jsxs","Register","navigate","username","setUsername","password","setPassword","error","setError","handleSubmit","e","preventDefault","storedUsers","JSON","parse","localStorage","getItem","existingUser","find","user","hash","err","hashedPassword","push","setItem","stringify","alert","className","children","onSubmit","type","value","onChange","target"],"sources":["/workspaces/rest-api-weather-app/src/components/Signup.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './Signup.css';\nimport { useNavigate } from 'react-router-dom';\nimport bcrypt from 'bcryptjs';\n\n\nconst Register = () => {\n    const navigate = useNavigate();\n\n\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState(null);\n    \n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if (username && password) {\n          const storedUsers = JSON.parse(localStorage.getItem('users')) || [];\n          const existingUser = storedUsers.find((user) => user.username === username);\n      \n          if (existingUser) {\n            setError('Username already exists');\n          } else {\n            bcrypt.hash(password, 10, (err, hashedPassword) => {\n              if (err) {\n                setError('Error hashing password');\n              } else {\n                storedUsers.push({ username, password: hashedPassword });\n                localStorage.setItem('users', JSON.stringify(storedUsers));\n                alert('Registration Successful');\n                setError('');\n                navigate('/login');\n              }\n            });\n          }\n        } else {\n          setError('Please enter both username and password');\n        }\n      };\n\n    return (\n        <div className='register-container'>\n            <h2>Signup</h2>\n            <form onSubmit={handleSubmit}>\n                <label className='username'>Username:</label>\n                <input \n                    type=\"text\" \n                    value={username} \n                    onChange={(e) => setUsername(e.target.value)}  \n                />\n                <br />\n                <label className='password'>Password:</label>\n                <input \n                    type=\"password\" \n                    value={password} \n                    onChange={(e) => setPassword(e.target.value)} \n                />\n                <br />\n                {error && <p className='error'>{error}</p>}\n                <div className=\"signup-btnn\">\n                    <button className=\"signup-btn\" type=\"submit\">Signup</button>\n                </div>\n            </form>\n        </div>\n    );\n};\n\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}